# 6. 조건 분기: 미궁처럼 복잡한 분기 처리를 무너뜨리는 방법

- 조건 분기가 중첩되어 낮아지는 가독성
  - 조건문이 중첨되면 가독성이 떨어짐
  - 조기 리턴으로 중첩 제거하기
    - 조건 만족하지 않는 경우 바로 리턴
    - 조건과 실행을 나누어 볼 수 있음
  - 가독성을 낮추는 else 구문도 조기 리턴으로 해결
    - else 구문 대신 조기 리턴을 이용하여 가독성 확보 가능

- switch 조건문 중복
  - switch 조건문을 사용하여 코드를 작성하다 보면, 같은 형태의 switch문이 여러 개 사용되는 경우가 많음
  - 이런 경우 요구 사항 변경 시 수정이 누락될 수 있음
  - 중복을 해결하기 위해, 단일 책임 선택의 원칙 적용
    - switch 조건문을 하나로 묶어서 구현
  - 인터페이스로 switch 조건문 중복 해결하기
    - 클래스가 다르더라도 공통 인터페이스를 사용하여 구현하면, 조건 분기 없이 각각의 코드를 적절하게 실행할 수 있음
  - 전략 패턴
    - 종류별로 다르게 처리해야 하는 기능을 인터페이스 메서드로 정의
    - 종류별로 각각 클래스로 만들고, 각 클래스에 인터페이스 구현
    - map을 이용하여 switch 조건 없이 처리를 나눌 수 있음
    - 인터페이스의 메서드는 항상 구현되어야 하기 때문에, 컴파일 단계에서 누락 확인 가능
    - 값 객체화까지 진행하면 코드 품질 추가 향상

- 조건 분기 중복과 중첩
  - 같은 판정 로직을 재사용하기 위한 방법
  - 정책 패턴으로 조건 집약하기
    - 조건을 부품처럼 만들고, 부품으로 만든 조건을 조합하여 사용하는 패턴

- 자료형 확인에 조건 분기 사용하지 않기
  - 인터페이스 구현 클래스의 자료형을 확인하여 분기하게 되면, 조건 분기가 계속 중복되게 됨
  - 리스코프 치환 원칙이라는 소프트웨어 원칙 위반

- 인터페이스 사용 능력이 중급으로 올라가는 첫걸음
  - 인터페이스를 잘 활용하는지가 곧 설계 능력의 전환점
  - 조건 분기를 사용해야 할 때 인터페이스 설계를 고민해 보자

- 플래그 매개변수
  - 플래그 매개변수를 받는 메서드는 어떤 일을 하는지 예측하기 어려움
  - 플래그 매개변수를 받는 메서드는 기능별로 분리하는 게 좋음
  - 전환은 전략 패턴으로 구현
